<h2>Login</h2>
    <form action="#" method="post" id="loginform">
        <fieldset>
            <legend >Name</legend>
            <input type="text" name="name" id="name">
        </fieldset>
        <fieldset>
            <legend>Password</legend>
            <input type="password" name="password">
        </fieldset>
        <input type="submit" name="submit" value="Submit Form">
    </form>
<script>
    $("#loginform").submit(function(event){
        event.preventDefault(); //prevent default action
        var payload = {};
        payload['name'] = $(this[name="name"]).val();
        payload['password'] = $(this[name="password"]).val();
        sendData('user','login', payload);
    });

    function onResponse(data, jqXHR){
        //if jwt in header goto loggedin page
        var token = jqXHR.getResponseHeader("Authorization").replace('Bearer ','');
        if (token) {
            //TODO if valide token received -> logged in
            localStorage.setItem("token", token); //store token in browser web storage
            var page = '/';
            getPage(page);
            history.pushState(page, page, page);
        }
    }
</script>
